<!-- HTML header for doxygen 1.8.15-->
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.15"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>51Degrees Device Detection C/C++: Pool</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<script type="text/javascript" src="examplegrabber.js"></script>
<script type="text/javascript" src="testedversionsgrabber.js"></script>
<script type="text/javascript" src="search51.js"></script>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
  $(document).ready(initResizable);
/* @license-end */</script>
<link href="docs-main.min.css" rel="stylesheet" type="text/css" />
</head>
<body class="l-docs-index p-doxygen">
<div class="l-index__content">
<!--div id="top"--><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea" class="g-header g-header--docs">
  <h1 class="c-brand">
  <a id="projectlogo" href="../../documentation/4.4/index.html" class="c-brand__link"><img class="c-brand__image" alt="Logo" src="logo-51Degrees-Docs.png" style="width:172px;"/></a>
  <span class="c-tagline">51Degrees Device Detection C/C++
   &#160;<span id="projectnumber">4.4</span>
  </span>
  </h1>
  <div id="projectalign" style="padding-left: 0.5em;">
   <div id="projectbrief">A device detection library that is used natively or by 51Degrees products</div>
  </div>
  <div id="main-nav"></div>
  <section class="g-search">
    <div class="c-search is-openable" id="searchOpenable">
    <form class="c-search__form">
      <div class="b-form-group b-form-group--with-icon">
        <label for="inputSearch" class="b-text--hidden">Search</label>
        <img src="icon-search.svg" class="b-icon" alt="Search" />
        <input type="text" class="c-search__input" id="inputSearch" onkeyup="javascript:onSearch(this,event.keyCode)" placeholder="Search" aria-label="Search">
      </div>
    </form>
    <div class="c-search__content" id="searchContent">
    </div>
  </div> 
  </section>
</div>
<!-- end header part -->
<main class="g-main">
<!-- Generated by Doxygen 1.8.15 -->
<!-- top -->
	<div class="g-docs__sidenav">																														         <nav id="nav-tree-contents" class="c-sidenav">																														     <h4 class="c-sidenav__heading">Documentation</h4>																									         <div id="nav-sync" class="sync"></div>
  <ul class="c-sidenav__list">																														     </ul>																																				   </nav>    </div><script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(document).ready(function(){initNavTree('group___fifty_one_degrees_pool.html','');});
/* @license-end */
</script>
<div id="doc-content" class="g-docs__content">
<div class="g-docs__header">
<h2 class="g-docs__page-title">Pool<div class="c-breadcrumb"><ul class="c-breadcrumb"><li class="c-breadcrumb__item"><a class="el c-breadcrumb__link" href="group___fifty_one_degrees_common.html">Common</a></li></ul></div></h2></div><!--header-->
<div class="g-docs__inner">
<div class="g-docs__primary" id="primary">
<a name="details" id="details"></a><h2 class="g-docs__section-heading">Detailed Description</h2>
<p>Pool of handles to allow safe access to multiple threads. </p>
<h2>Introduction</h2>
<p>A Pool structure defines a pool of handles to a resource, and allows a safe way to access them in a multi-threaded environment.</p>
<h2>Creation</h2>
<p>The <a class="el" href="group___fifty_one_degrees_pool.html#ga20b9ac82c9f6aa4587c5c1247359a9df" title="Initialises a pool data structure to support the number of concurrent requests that can be made to th...">fiftyoneDegreesPoolInit</a> method is used to initialise a pointer to a <a class="el" href="structfiftyone_degrees_pool.html" title="Pool of resources stored as items in a stack.">fiftyoneDegreesPool</a>. A concurrency value is provided to indicate the maximum number of threads that will be in operation. If this value is lower than the actual number of threads the stack can be exhausted and a null pointer is returned instead of a valid item. The concurrency value must always be the same or greater than the number of threads. When compiled in single threaded operation a pool is not strictly required and the implementation maintains a simple stack for consistency of interface and to minimise divergent code.</p>
<h2>Get &amp; Release</h2>
<p>Handles are retrieved from the pool via the <a class="el" href="group___fifty_one_degrees_pool.html#ga608b736cbbc8788526fb25285c88e100" title="Gets the next free item from the pool for exclusive use by the caller.">fiftyoneDegreesPoolItemGet</a> method. The handle <b>MUST</b> be returned with the <a class="el" href="group___fifty_one_degrees_pool.html#ga47e000d5fffb7632ba578d4561269e79" title="Releases the item back to the pool it belongs ready to be reused by another operation.">fiftyoneDegreesPoolItemRelease</a> method when it is finished with. The handle will always be open and ready for read only operation. If too many threads are accessing the pool simultaneously, meaning a handle cannot be secured, then a NULL pointer is returned.</p>
<h2>Free</h2>
<p>The items are closed when the pool is released via the <a class="el" href="group___fifty_one_degrees_pool.html#ga1df931d9a29f200def2fb15a199f14c6" title="Releases the items used by the pool freeing the resources used by each item by calling the resourceFr...">fiftyoneDegreesPoolFree</a> method. Any memory allocated by the implementation for the stack is freed.</p>
<h2>Usage Example</h2>
<div class="c-code__block c-code__block--outline"><div class="c-code__line"><a class="code" href="group___fifty_one_degrees_exceptions.html#gae78f9f100e8f25f01c57fd36e7a6aa18">FIFTYONE_DEGREES_EXCEPTION_CREATE</a>;</div><div class="c-code__line"><span class="c-code__keywordtype">void</span> *state;</div><div class="c-code__line"><a class="code" href="group___fifty_one_degrees_pool.html#ga0d78950c9b7aab28ff29c57985738f19">fiftyoneDegreesPoolResourceCreate</a> resourceCreate;</div><div class="c-code__line"><a class="code" href="group___fifty_one_degrees_pool.html#ga60a64a27f6b37e18d1e6c69e1c27d804">fiftyoneDegreesPoolResourceFree</a> resourceFree;</div><div class="c-code__line"><a class="code" href="structfiftyone_degrees_pool.html">fiftyoneDegreesPool</a> pool;</div><div class="c-code__line"></div><div class="c-code__line"><span class="c-code__comment">// Initialise a pool of resources and check that it was successful</span></div><div class="c-code__line"><span class="c-code__keywordflow">if</span> (<a class="code" href="group___fifty_one_degrees_pool.html#ga20b9ac82c9f6aa4587c5c1247359a9df">fiftyoneDegreesPoolInit</a>(</div><div class="c-code__line">    &amp;pool,</div><div class="c-code__line">    1,</div><div class="c-code__line">    state,</div><div class="c-code__line">    resourceCreate,</div><div class="c-code__line">    resourceFree,</div><div class="c-code__line">    exception) != NULL) {</div><div class="c-code__line"></div><div class="c-code__line">    <span class="c-code__comment">// Get a resource from the pool</span></div><div class="c-code__line">    <a class="code" href="structfiftyone_degrees_pool_item.html">fiftyoneDegreesPoolItem</a> *item = <a class="code" href="group___fifty_one_degrees_pool.html#ga608b736cbbc8788526fb25285c88e100">fiftyoneDegreesPoolItemGet</a>(</div><div class="c-code__line">        &amp;pool,</div><div class="c-code__line">        exception);</div><div class="c-code__line"></div><div class="c-code__line">    <span class="c-code__comment">// Check that there was a resource available</span></div><div class="c-code__line">    <span class="c-code__keywordflow">if</span> (item != NULL) {</div><div class="c-code__line"></div><div class="c-code__line">        <span class="c-code__comment">// Do something with the resource without being interrupted by other</span></div><div class="c-code__line">        <span class="c-code__comment">// threads</span></div><div class="c-code__line">        <span class="c-code__comment">// ...</span></div><div class="c-code__line"></div><div class="c-code__line">        <span class="c-code__comment">// Release the resource back to the pool</span></div><div class="c-code__line">        <a class="code" href="group___fifty_one_degrees_pool.html#ga47e000d5fffb7632ba578d4561269e79">fiftyoneDegreesPoolItemRelease</a>(item);</div><div class="c-code__line">    }</div><div class="c-code__line"></div><div class="c-code__line">    <span class="c-code__comment">// Free the pool of resources</span></div><div class="c-code__line">    <a class="code" href="group___fifty_one_degrees_pool.html#ga1df931d9a29f200def2fb15a199f14c6">fiftyoneDegreesPoolFree</a>(&amp;pool);</div><div class="c-code__line">}</div></div><h2>Design</h2>
<p>To improve performance in multi-threaded operation a non locking stack is used where a Compare and Swap (CAS) atomic operation is used to pop and push handles on and off the stack. The design was adapted from the following article (<a href="http://nullprogram.com/blog/2014/09/02/">http://nullprogram.com/blog/2014/09/02/</a>) which explains some of the challenges involved including the ABA problem (<a href="https://en.wikipedia.org/wiki/ABA_problem">https://en.wikipedia.org/wiki/ABA_problem</a>). It is for this reason the head structure is implemented as a union between the values and the exchange integer. Pointers are not used as the address space for the stack is continuous and always very small compared to the total addressable memory space. </p>
<h2 class="g-docs__section-heading">
Collaboration diagram for Pool:</h2>
<div class="dyncontent">
<center><table><tr><td><div class="center"><iframe scrolling="no" frameborder="0" src="group___fifty_one_degrees_pool.svg" width="191" height="36"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe>
</div>
</td></tr></table></center>
</div>
<!-- startMemberSections -->
<!-- startMemberHeader -->
<h2 class="g-docs__section-heading">
<a name="nested-classes"></a>
Structs</h2>
<!-- endMemberHeader -->
<!-- startMemberList -->
<!-- start member list -->
<div class="g-table g-table--overflow">
<table class="c-table c-table--members">
<tbody class="c-table__body">
<!-- member dec start -->
<!-- startMemberItem() -->
<tr class="c-table__row memitem:"><td class="c-table__cell">struct <!-- insertMemberAlign -->
&#160;</td><td class="c-table__cell"><a class="el" href="structfiftyone_degrees_pool_item.html">fiftyoneDegreesPoolItem</a>
<!-- startMemberDescription -->
<div class="c-table__desc memdesc:">Pool item node in the stack of items.  <a href="structfiftyone_degrees_pool_item.html#details">More...</a><!-- endMemberDescription -->
</div></td></tr>
<!-- member dec start -->
<!-- startMemberItem() -->
<tr class="c-table__row memitem:"><td class="c-table__cell">union <!-- insertMemberAlign -->
&#160;</td><td class="c-table__cell"><a class="el" href="unionfiftyone_degrees_pool_head.html">fiftyoneDegreesPoolHead</a>
<!-- startMemberDescription -->
<div class="c-table__desc memdesc:">The head of the stack used for pop and push operations.  <a href="unionfiftyone_degrees_pool_head.html#details">More...</a><!-- endMemberDescription -->
</div></td></tr>
<!-- member dec start -->
<!-- startMemberItem() -->
<tr class="c-table__row memitem:"><td class="c-table__cell">struct <!-- insertMemberAlign -->
&#160;</td><td class="c-table__cell"><a class="el" href="structfiftyone_degrees_pool.html">fiftyoneDegreesPool</a>
<!-- startMemberDescription -->
<div class="c-table__desc memdesc:">Pool of resources stored as items in a stack.  <a href="structfiftyone_degrees_pool.html#details">More...</a><!-- endMemberDescription -->
</div></td></tr>
<!-- endMemberList -->
<!-- end member list -->
</tbody></table></div>
<section class="g-docs__section">
</section>
<section class="g-docs__section">
<!-- startMemberHeader -->
<h2 class="g-docs__section-heading">
<a name="typedef-members"></a>
Typedefs</h2>
<!-- endMemberHeader -->
<!-- startMemberList -->
<!-- start member list -->
<div class="g-table g-table--overflow">
<table class="c-table c-table--members">
<tbody class="c-table__body">
<!-- member dec start -->
<!-- startMemberItem() -->
<tr class="c-table__row memitem:ga0d78950c9b7aab28ff29c57985738f19"><td class="c-table__cell">typedef&#160;void&#160;*(*<!-- insertMemberAlign -->
&#160;</td><td class="c-table__cell"><a class="el" href="group___fifty_one_degrees_pool.html#ga0d78950c9b7aab28ff29c57985738f19">fiftyoneDegreesPoolResourceCreate</a>) (<a class="el" href="structfiftyone_degrees_pool.html">fiftyoneDegreesPool</a> *pool, void *state, <a class="el" href="structfiftyone_degrees_exception.html">fiftyoneDegreesException</a> *exception)
<!-- startMemberDescription -->
<div class="c-table__desc memdesc:ga0d78950c9b7aab28ff29c57985738f19">Used to create a new resource for use in the pool.  <a href="#ga0d78950c9b7aab28ff29c57985738f19">More...</a><!-- endMemberDescription -->
</div></td></tr>
<!-- member dec start -->
<!-- startMemberItem() -->
<tr class="c-table__row memitem:ga96f9a6dcdeda662c6fb28197a2f5a551"><td class="c-table__cell">typedef&#160;size_t(*<!-- insertMemberAlign -->
&#160;</td><td class="c-table__cell"><a class="el" href="group___fifty_one_degrees_pool.html#ga96f9a6dcdeda662c6fb28197a2f5a551">fiftyoneDegreesPoolResourceSize</a>) (void *state)
<!-- startMemberDescription -->
<div class="c-table__desc memdesc:ga96f9a6dcdeda662c6fb28197a2f5a551">Used to determine the additional size beyond the pointer used for each resource added to the pool.  <a href="#ga96f9a6dcdeda662c6fb28197a2f5a551">More...</a><!-- endMemberDescription -->
</div></td></tr>
<!-- member dec start -->
<!-- startMemberItem() -->
<tr class="c-table__row memitem:ga60a64a27f6b37e18d1e6c69e1c27d804"><td class="c-table__cell">typedef&#160;void(*<!-- insertMemberAlign -->
&#160;</td><td class="c-table__cell"><a class="el" href="group___fifty_one_degrees_pool.html#ga60a64a27f6b37e18d1e6c69e1c27d804">fiftyoneDegreesPoolResourceFree</a>) (<a class="el" href="structfiftyone_degrees_pool.html">fiftyoneDegreesPool</a> *pool, void *resource)
<!-- startMemberDescription -->
<div class="c-table__desc memdesc:ga60a64a27f6b37e18d1e6c69e1c27d804">Frees a resource previously created with <a class="el" href="group___fifty_one_degrees_pool.html#ga0d78950c9b7aab28ff29c57985738f19" title="Used to create a new resource for use in the pool.">fiftyoneDegreesPoolResourceCreate</a>.  <a href="#ga60a64a27f6b37e18d1e6c69e1c27d804">More...</a><!-- endMemberDescription -->
</div></td></tr>
<!-- endMemberList -->
<!-- end member list -->
</tbody></table></div>
</section>
<section class="g-docs__section">
</section>
<section class="g-docs__section">
</section>
<section class="g-docs__section">
<!-- startMemberHeader -->
<h2 class="g-docs__section-heading">
<a name="func-members"></a>
Functions</h2>
<!-- endMemberHeader -->
<!-- startMemberList -->
<!-- start member list -->
<div class="g-table g-table--overflow">
<table class="c-table c-table--members">
<tbody class="c-table__body">
<!-- member dec start -->
<!-- startMemberItem() -->
<tr class="c-table__row memitem:ga20b9ac82c9f6aa4587c5c1247359a9df"><td class="c-table__cell"><a class="el" href="structfiftyone_degrees_pool.html">fiftyoneDegreesPool</a>&#160;*<!-- insertMemberAlign -->
&#160;</td><td class="c-table__cell"><a class="el" href="group___fifty_one_degrees_pool.html#ga20b9ac82c9f6aa4587c5c1247359a9df">fiftyoneDegreesPoolInit</a> (<a class="el" href="structfiftyone_degrees_pool.html">fiftyoneDegreesPool</a> *pool, uint16_t concurrency, void *state, <a class="el" href="group___fifty_one_degrees_pool.html#ga0d78950c9b7aab28ff29c57985738f19">fiftyoneDegreesPoolResourceCreate</a> resourceCreate, <a class="el" href="group___fifty_one_degrees_pool.html#ga60a64a27f6b37e18d1e6c69e1c27d804">fiftyoneDegreesPoolResourceFree</a> resourceFree, <a class="el" href="structfiftyone_degrees_exception.html">fiftyoneDegreesException</a> *exception)
<!-- startMemberDescription -->
<div class="c-table__desc memdesc:ga20b9ac82c9f6aa4587c5c1247359a9df">Initialises a pool data structure to support the number of concurrent requests that can be made to the pool for resources that can be reused.  <a href="#ga20b9ac82c9f6aa4587c5c1247359a9df">More...</a><!-- endMemberDescription -->
</div></td></tr>
<!-- member dec start -->
<!-- startMemberItem() -->
<tr class="c-table__row memitem:ga608b736cbbc8788526fb25285c88e100"><td class="c-table__cell"><a class="el" href="structfiftyone_degrees_pool_item.html">fiftyoneDegreesPoolItem</a>&#160;*<!-- insertMemberAlign -->
&#160;</td><td class="c-table__cell"><a class="el" href="group___fifty_one_degrees_pool.html#ga608b736cbbc8788526fb25285c88e100">fiftyoneDegreesPoolItemGet</a> (<a class="el" href="structfiftyone_degrees_pool.html">fiftyoneDegreesPool</a> *pool, <a class="el" href="structfiftyone_degrees_exception.html">fiftyoneDegreesException</a> *exception)
<!-- startMemberDescription -->
<div class="c-table__desc memdesc:ga608b736cbbc8788526fb25285c88e100">Gets the next free item from the pool for exclusive use by the caller.  <a href="#ga608b736cbbc8788526fb25285c88e100">More...</a><!-- endMemberDescription -->
</div></td></tr>
<!-- member dec start -->
<!-- startMemberItem() -->
<tr class="c-table__row memitem:ga47e000d5fffb7632ba578d4561269e79"><td class="c-table__cell">void<!-- insertMemberAlign -->
&#160;</td><td class="c-table__cell"><a class="el" href="group___fifty_one_degrees_pool.html#ga47e000d5fffb7632ba578d4561269e79">fiftyoneDegreesPoolItemRelease</a> (<a class="el" href="structfiftyone_degrees_pool_item.html">fiftyoneDegreesPoolItem</a> *item)
<!-- startMemberDescription -->
<div class="c-table__desc memdesc:ga47e000d5fffb7632ba578d4561269e79">Releases the item back to the pool it belongs ready to be reused by another operation.  <a href="#ga47e000d5fffb7632ba578d4561269e79">More...</a><!-- endMemberDescription -->
</div></td></tr>
<!-- member dec start -->
<!-- startMemberItem() -->
<tr class="c-table__row memitem:ga1df931d9a29f200def2fb15a199f14c6"><td class="c-table__cell">void<!-- insertMemberAlign -->
&#160;</td><td class="c-table__cell"><a class="el" href="group___fifty_one_degrees_pool.html#ga1df931d9a29f200def2fb15a199f14c6">fiftyoneDegreesPoolFree</a> (<a class="el" href="structfiftyone_degrees_pool.html">fiftyoneDegreesPool</a> *pool)
<!-- startMemberDescription -->
<div class="c-table__desc memdesc:ga1df931d9a29f200def2fb15a199f14c6">Releases the items used by the pool freeing the resources used by each item by calling the resourceFree method provided when the pool was created.  <a href="#ga1df931d9a29f200def2fb15a199f14c6">More...</a><!-- endMemberDescription -->
</div></td></tr>
<!-- member dec start -->
<!-- startMemberItem() -->
<tr class="c-table__row memitem:gae412d34ab6179cb8ec6b592bf384856e"><td class="c-table__cell">void<!-- insertMemberAlign -->
&#160;</td><td class="c-table__cell"><a class="el" href="group___fifty_one_degrees_pool.html#gae412d34ab6179cb8ec6b592bf384856e">fiftyoneDegreesPoolReset</a> (<a class="el" href="structfiftyone_degrees_pool.html">fiftyoneDegreesPool</a> *pool)
<!-- startMemberDescription -->
<div class="c-table__desc memdesc:gae412d34ab6179cb8ec6b592bf384856e">Resets the pool without releasing any resources.  <a href="#gae412d34ab6179cb8ec6b592bf384856e">More...</a><!-- endMemberDescription -->
</div></td></tr>
<!-- endMemberList -->
<!-- end member list -->
</tbody></table></div>
</section>
<section class="g-docs__section">
</section>
<section class="g-docs__section">
</section>
<section class="g-docs__section">
</section>
<section class="g-docs__section">
</section>
<section class="g-docs__section">
</section>
<section class="g-docs__section">
</section>
<section class="g-docs__section">
</section>
<section class="g-docs__section">
</section>
<section class="g-docs__section">
<h2 class="g-docs__section-heading">Typedef Documentation</h2>
<!-- startMemberDocList -->
<article class="c-member">
<a id="ga0d78950c9b7aab28ff29c57985738f19"></a><!-- startMemberDoc -->

<h2 class="c-member__title"><span class="c-member__anchor"><a href="#ga0d78950c9b7aab28ff29c57985738f19">&#9670;&nbsp;</a></span>fiftyoneDegreesPoolResourceCreate</h2>

<div class="c-member__main">
<div class="c-member__head">
<!-- startMemberDocName -->
      <div class="c-member__split">
        <div class="g-table g-table--overflow">
          <table class="c-table c-table--article">
            <tr class="c-table__row">
              <td class="c-table__cell">typedef void*(* fiftyoneDegreesPoolResourceCreate) (<a class="el" href="structfiftyone_degrees_pool.html">fiftyoneDegreesPool</a> *pool, void *state, <a class="el" href="structfiftyone_degrees_exception.html">fiftyoneDegreesException</a> *exception)<!-- endMemberDocName -->
</td>
<!-- endMemberDoc -->
            </tr>
          </table>
        </div>
      </div>
</div><!-- startIndent -->
<div class="c-member__body">

<p>Used to create a new resource for use in the pool. </p>
<dl class="c-list-definition"><dt class="c-list-definition__title">Parameters</dt><dd class="c-list-definition__desc">
    <tr><dd class="c-list-definition__desc"><span class="b-text--red">pool</span> - to create the resource for </dd>
    <tr><dd class="c-list-definition__desc"><span class="b-text--red">state</span> - pointer to data used by the method </dd>
    <tr><dd class="c-list-definition__desc"><span class="b-text--red">exception</span> - pointer to an exception data structure to be used if an exception occurs. See <a class="el" href="exceptions_8h_source.html">exceptions.h</a> </dd>
  </dd>
</dl>
<dl class="c-list-definition return"><dt class="c-list-definition__title">Returns</dt><dd class="c-list-definition__desc">pointer to the new resource </dd></dl>
<!-- endIndent -->

</div>
</div>
</article>
<article class="c-member">
<a id="ga60a64a27f6b37e18d1e6c69e1c27d804"></a><!-- startMemberDoc -->

<h2 class="c-member__title"><span class="c-member__anchor"><a href="#ga60a64a27f6b37e18d1e6c69e1c27d804">&#9670;&nbsp;</a></span>fiftyoneDegreesPoolResourceFree</h2>

<div class="c-member__main">
<div class="c-member__head">
<!-- startMemberDocName -->
      <div class="c-member__split">
        <div class="g-table g-table--overflow">
          <table class="c-table c-table--article">
            <tr class="c-table__row">
              <td class="c-table__cell">typedef void(* fiftyoneDegreesPoolResourceFree) (<a class="el" href="structfiftyone_degrees_pool.html">fiftyoneDegreesPool</a> *pool, void *resource)<!-- endMemberDocName -->
</td>
<!-- endMemberDoc -->
            </tr>
          </table>
        </div>
      </div>
</div><!-- startIndent -->
<div class="c-member__body">

<p>Frees a resource previously created with <a class="el" href="group___fifty_one_degrees_pool.html#ga0d78950c9b7aab28ff29c57985738f19" title="Used to create a new resource for use in the pool.">fiftyoneDegreesPoolResourceCreate</a>. </p>
<dl class="c-list-definition"><dt class="c-list-definition__title">Parameters</dt><dd class="c-list-definition__desc">
    <tr><dd class="c-list-definition__desc"><span class="b-text--red">pool</span> - containing the resource </dd>
    <tr><dd class="c-list-definition__desc"><span class="b-text--red">resource</span> - to free </dd>
  </dd>
</dl>
<!-- endIndent -->

</div>
</div>
</article>
<article class="c-member">
<a id="ga96f9a6dcdeda662c6fb28197a2f5a551"></a><!-- startMemberDoc -->

<h2 class="c-member__title"><span class="c-member__anchor"><a href="#ga96f9a6dcdeda662c6fb28197a2f5a551">&#9670;&nbsp;</a></span>fiftyoneDegreesPoolResourceSize</h2>

<div class="c-member__main">
<div class="c-member__head">
<!-- startMemberDocName -->
      <div class="c-member__split">
        <div class="g-table g-table--overflow">
          <table class="c-table c-table--article">
            <tr class="c-table__row">
              <td class="c-table__cell">typedef size_t(* fiftyoneDegreesPoolResourceSize) (void *state)<!-- endMemberDocName -->
</td>
<!-- endMemberDoc -->
            </tr>
          </table>
        </div>
      </div>
</div><!-- startIndent -->
<div class="c-member__body">

<p>Used to determine the additional size beyond the pointer used for each resource added to the pool. </p>
<dl class="c-list-definition"><dt class="c-list-definition__title">Parameters</dt><dd class="c-list-definition__desc">
    <tr><dd class="c-list-definition__desc"><span class="b-text--red">state</span> - pointer to a state containing the resource and any additional data needed for the calculation </dd>
  </dd>
</dl>
<dl class="c-list-definition return"><dt class="c-list-definition__title">Returns</dt><dd class="c-list-definition__desc">addition size to allocate per resource </dd></dl>
<!-- endIndent -->

</div>
</div>
</article>
<!-- endMemberDocList -->
<h2 class="g-docs__section-heading">Function Documentation</h2>
<!-- startMemberDocList -->
<article class="c-member">
<a id="ga1df931d9a29f200def2fb15a199f14c6"></a><!-- startMemberDoc -->

<h2 class="c-member__title"><span class="c-member__anchor"><a href="#ga1df931d9a29f200def2fb15a199f14c6">&#9670;&nbsp;</a></span>fiftyoneDegreesPoolFree()</h2>

<div class="c-member__main">
<div class="c-member__head">
<!-- startMemberDocName -->
      <div class="c-member__split">
        <div class="g-table g-table--overflow">
          <table class="c-table c-table--article">
            <tr class="c-table__row">
              <td class="c-table__cell">void fiftyoneDegreesPoolFree <!-- endMemberDocName -->
</td>
<!-- startParameterList -->
          <td>(</td>
<!-- startFirstParameterType -->
          <td class="c-table__cell"><a class="el" href="structfiftyone_degrees_pool.html">fiftyoneDegreesPool</a> *<!-- endParameterType -->
&#160;</td>
<!-- startParameterName -->
          <td class="c-table__cell"><em>pool</em><!-- endParameterName -->
</td><td>)</td>
          <td><!-- endParameterList -->
</td>
        </tr>
<!-- endMemberDoc -->
          </table>
        </div>
      </div>
</div><!-- startIndent -->
<div class="c-member__body">

<p>Releases the items used by the pool freeing the resources used by each item by calling the resourceFree method provided when the pool was created. </p>
<dl class="c-list-definition"><dt class="c-list-definition__title">Parameters</dt><dd class="c-list-definition__desc">
    <tr><dd class="c-list-definition__desc"><span class="b-text--red">pool</span> - to be freed </dd>
  </dd>
</dl>
<!-- endIndent -->

</div>
</div>
</article>
<article class="c-member">
<a id="ga20b9ac82c9f6aa4587c5c1247359a9df"></a><!-- startMemberDoc -->

<h2 class="c-member__title"><span class="c-member__anchor"><a href="#ga20b9ac82c9f6aa4587c5c1247359a9df">&#9670;&nbsp;</a></span>fiftyoneDegreesPoolInit()</h2>

<div class="c-member__main">
<div class="c-member__head">
<!-- startMemberDocName -->
      <div class="c-member__split">
        <div class="g-table g-table--overflow">
          <table class="c-table c-table--article">
            <tr class="c-table__row">
              <td class="c-table__cell"><a class="el" href="structfiftyone_degrees_pool.html">fiftyoneDegreesPool</a>* fiftyoneDegreesPoolInit <!-- endMemberDocName -->
</td>
<!-- startParameterList -->
          <td>(</td>
<!-- startFirstParameterType -->
          <td class="c-table__cell"><a class="el" href="structfiftyone_degrees_pool.html">fiftyoneDegreesPool</a> *<!-- endParameterType -->
&#160;</td>
<!-- startParameterName -->
          <td class="c-table__cell"><em>pool</em>, <!-- endParameterName -->
</td>
        </tr>
<!-- startParameterType -->
        <tr>
          <td class="c-table__cell"></td>
          <td></td>
          <td class="c-table__cell">uint16_t<!-- endParameterType -->
&#160;</td>
<!-- startParameterName -->
          <td class="c-table__cell"><em>concurrency</em>, <!-- endParameterName -->
</td>
        </tr>
<!-- startParameterType -->
        <tr>
          <td class="c-table__cell"></td>
          <td></td>
          <td class="c-table__cell">void *<!-- endParameterType -->
&#160;</td>
<!-- startParameterName -->
          <td class="c-table__cell"><em>state</em>, <!-- endParameterName -->
</td>
        </tr>
<!-- startParameterType -->
        <tr>
          <td class="c-table__cell"></td>
          <td></td>
          <td class="c-table__cell"><a class="el" href="group___fifty_one_degrees_pool.html#ga0d78950c9b7aab28ff29c57985738f19">fiftyoneDegreesPoolResourceCreate</a><!-- endParameterType -->
&#160;</td>
<!-- startParameterName -->
          <td class="c-table__cell"><em>resourceCreate</em>, <!-- endParameterName -->
</td>
        </tr>
<!-- startParameterType -->
        <tr>
          <td class="c-table__cell"></td>
          <td></td>
          <td class="c-table__cell"><a class="el" href="group___fifty_one_degrees_pool.html#ga60a64a27f6b37e18d1e6c69e1c27d804">fiftyoneDegreesPoolResourceFree</a><!-- endParameterType -->
&#160;</td>
<!-- startParameterName -->
          <td class="c-table__cell"><em>resourceFree</em>, <!-- endParameterName -->
</td>
        </tr>
<!-- startParameterType -->
        <tr>
          <td class="c-table__cell"></td>
          <td></td>
          <td class="c-table__cell"><a class="el" href="structfiftyone_degrees_exception.html">fiftyoneDegreesException</a> *<!-- endParameterType -->
&#160;</td>
<!-- startParameterName -->
          <td class="c-table__cell"><em>exception</em><!-- endParameterName -->
&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td><!-- endParameterList -->
</td>
        </tr>
<!-- endMemberDoc -->
          </table>
        </div>
      </div>
</div><!-- startIndent -->
<div class="c-member__body">

<p>Initialises a pool data structure to support the number of concurrent requests that can be made to the pool for resources that can be reused. </p>
<p>The resourceCreate method is used to create a new resource for use in the pool which will be freed during when the release method is called on the pool using the resourceFree method. </p><dl class="c-list-definition"><dt class="c-list-definition__title">Parameters</dt><dd class="c-list-definition__desc">
    <tr><dd class="c-list-definition__desc"><span class="b-text--red">pool</span> - data structure to be initialised. </dd>
    <tr><dd class="c-list-definition__desc"><span class="b-text--red">concurrency</span> - the number of resources the pool should contain. </dd>
    <tr><dd class="c-list-definition__desc"><span class="b-text--red">state</span> - passed to the create resource method. </dd>
    <tr><dd class="c-list-definition__desc"><span class="b-text--red">resourceCreate</span> - method used to create the resource to be added to items in the pool. </dd>
    <tr><dd class="c-list-definition__desc"><span class="b-text--red">resourceFree</span> - method used to free a resource from the pool when the pool is freed. </dd>
    <tr><dd class="c-list-definition__desc"><span class="b-text--red">exception</span> - pointer to an exception data structure to be used if an exception occurs. See <a class="el" href="exceptions_8h_source.html">exceptions.h</a>. </dd>
  </dd>
</dl>
<dl class="c-list-definition return"><dt class="c-list-definition__title">Returns</dt><dd class="c-list-definition__desc">a pointer to the pool if successful, otherwise NULL. </dd></dl>
<!-- endIndent -->

</div>
</div>
</article>
<article class="c-member">
<a id="ga608b736cbbc8788526fb25285c88e100"></a><!-- startMemberDoc -->

<h2 class="c-member__title"><span class="c-member__anchor"><a href="#ga608b736cbbc8788526fb25285c88e100">&#9670;&nbsp;</a></span>fiftyoneDegreesPoolItemGet()</h2>

<div class="c-member__main">
<div class="c-member__head">
<!-- startMemberDocName -->
      <div class="c-member__split">
        <div class="g-table g-table--overflow">
          <table class="c-table c-table--article">
            <tr class="c-table__row">
              <td class="c-table__cell"><a class="el" href="structfiftyone_degrees_pool_item.html">fiftyoneDegreesPoolItem</a>* fiftyoneDegreesPoolItemGet <!-- endMemberDocName -->
</td>
<!-- startParameterList -->
          <td>(</td>
<!-- startFirstParameterType -->
          <td class="c-table__cell"><a class="el" href="structfiftyone_degrees_pool.html">fiftyoneDegreesPool</a> *<!-- endParameterType -->
&#160;</td>
<!-- startParameterName -->
          <td class="c-table__cell"><em>pool</em>, <!-- endParameterName -->
</td>
        </tr>
<!-- startParameterType -->
        <tr>
          <td class="c-table__cell"></td>
          <td></td>
          <td class="c-table__cell"><a class="el" href="structfiftyone_degrees_exception.html">fiftyoneDegreesException</a> *<!-- endParameterType -->
&#160;</td>
<!-- startParameterName -->
          <td class="c-table__cell"><em>exception</em><!-- endParameterName -->
&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td><!-- endParameterList -->
</td>
        </tr>
<!-- endMemberDoc -->
          </table>
        </div>
      </div>
</div><!-- startIndent -->
<div class="c-member__body">

<p>Gets the next free item from the pool for exclusive use by the caller. </p>
<p>Every item returned must be released when the caller has finished with it using the <a class="el" href="group___fifty_one_degrees_pool.html#ga47e000d5fffb7632ba578d4561269e79" title="Releases the item back to the pool it belongs ready to be reused by another operation.">fiftyoneDegreesPoolItemRelease</a> method. </p><dl class="c-list-definition"><dt class="c-list-definition__title">Parameters</dt><dd class="c-list-definition__desc">
    <tr><dd class="c-list-definition__desc"><span class="b-text--red">pool</span> - to return items from. </dd>
    <tr><dd class="c-list-definition__desc"><span class="b-text--red">exception</span> - pointer to an exception data structure to be used if an exception occurs. See <a class="el" href="exceptions_8h_source.html">exceptions.h</a>. </dd>
  </dd>
</dl>
<dl class="c-list-definition return"><dt class="c-list-definition__title">Returns</dt><dd class="c-list-definition__desc">the next free item, or NULL if no items are available. </dd></dl>
<!-- endIndent -->

</div>
</div>
</article>
<article class="c-member">
<a id="ga47e000d5fffb7632ba578d4561269e79"></a><!-- startMemberDoc -->

<h2 class="c-member__title"><span class="c-member__anchor"><a href="#ga47e000d5fffb7632ba578d4561269e79">&#9670;&nbsp;</a></span>fiftyoneDegreesPoolItemRelease()</h2>

<div class="c-member__main">
<div class="c-member__head">
<!-- startMemberDocName -->
      <div class="c-member__split">
        <div class="g-table g-table--overflow">
          <table class="c-table c-table--article">
            <tr class="c-table__row">
              <td class="c-table__cell">void fiftyoneDegreesPoolItemRelease <!-- endMemberDocName -->
</td>
<!-- startParameterList -->
          <td>(</td>
<!-- startFirstParameterType -->
          <td class="c-table__cell"><a class="el" href="structfiftyone_degrees_pool_item.html">fiftyoneDegreesPoolItem</a> *<!-- endParameterType -->
&#160;</td>
<!-- startParameterName -->
          <td class="c-table__cell"><em>item</em><!-- endParameterName -->
</td><td>)</td>
          <td><!-- endParameterList -->
</td>
        </tr>
<!-- endMemberDoc -->
          </table>
        </div>
      </div>
</div><!-- startIndent -->
<div class="c-member__body">

<p>Releases the item back to the pool it belongs ready to be reused by another operation. </p>
<dl class="c-list-definition"><dt class="c-list-definition__title">Parameters</dt><dd class="c-list-definition__desc">
    <tr><dd class="c-list-definition__desc"><span class="b-text--red">item</span> - to be released back to the pool </dd>
  </dd>
</dl>
<!-- endIndent -->

</div>
</div>
</article>
<article class="c-member">
<a id="gae412d34ab6179cb8ec6b592bf384856e"></a><!-- startMemberDoc -->

<h2 class="c-member__title"><span class="c-member__anchor"><a href="#gae412d34ab6179cb8ec6b592bf384856e">&#9670;&nbsp;</a></span>fiftyoneDegreesPoolReset()</h2>

<div class="c-member__main">
<div class="c-member__head">
<!-- startMemberDocName -->
      <div class="c-member__split">
        <div class="g-table g-table--overflow">
          <table class="c-table c-table--article">
            <tr class="c-table__row">
              <td class="c-table__cell">void fiftyoneDegreesPoolReset <!-- endMemberDocName -->
</td>
<!-- startParameterList -->
          <td>(</td>
<!-- startFirstParameterType -->
          <td class="c-table__cell"><a class="el" href="structfiftyone_degrees_pool.html">fiftyoneDegreesPool</a> *<!-- endParameterType -->
&#160;</td>
<!-- startParameterName -->
          <td class="c-table__cell"><em>pool</em><!-- endParameterName -->
</td><td>)</td>
          <td><!-- endParameterList -->
</td>
        </tr>
<!-- endMemberDoc -->
          </table>
        </div>
      </div>
</div><!-- startIndent -->
<div class="c-member__body">

<p>Resets the pool without releasing any resources. </p>
<dl class="c-list-definition"><dt class="c-list-definition__title">Parameters</dt><dd class="c-list-definition__desc">
    <tr><dd class="c-list-definition__desc"><span class="b-text--red">pool</span> - to be reset </dd>
  </dd>
</dl>
<!-- endIndent -->

</div>
</div>
</article>
<!-- endMemberDocList -->
</section>
<!--endtest-->
</div><!-- primary -->
  <div class="g-docs__sidebar">
    <div class="c-section-nav">
      <h5 class="c-section-nav__heading">On This Page</h5>
        <ul class="c-section-nav__list">
<li class="c-section-nav__item"><a class="c-section-nav__link" href="#nested-classes">Structs</a></li>
<li class="c-section-nav__item"><a class="c-section-nav__link" href="#typedef-members">Typedefs</a></li>
<li class="c-section-nav__item"><a class="c-section-nav__link" href="#func-members">Functions</a></li>      </ul>
    </div>
  </div>
</div><!-- inner-->
<!-- HTML footer for doxygen 1.8.15-->
<!-- start footer part -->
<section id="nav-path" class="g-footer g-footer--docs"><!-- id is needed for treeview function! -->
    <p class="g-footer__copyright">Generated by
    <a href="http://www.doxygen.org/index.html">
    <b>doxygen</b></a> 1.8.15
  </p>
</section>
</div>
</main>
</div>
</body>
</html>
