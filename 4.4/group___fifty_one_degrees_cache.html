<!-- HTML header for doxygen 1.8.15-->
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.15"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>51Degrees Device Detection C/C++: Cache</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<script type="text/javascript" src="examplegrabber.js"></script>
<script type="text/javascript" src="testedversionsgrabber.js"></script>
<script type="text/javascript" src="search51.js"></script>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
  $(document).ready(initResizable);
/* @license-end */</script>
<link href="docs-main.min.css" rel="stylesheet" type="text/css" />
</head>
<body class="l-docs-index p-doxygen">
<div class="l-index__content">
<!--div id="top"--><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea" class="g-header g-header--docs">
  <h1 class="c-brand">
  <a id="projectlogo" href="../../documentation/4.4/index.html" class="c-brand__link"><img class="c-brand__image" alt="Logo" src="logo-51Degrees-Docs.png" style="width:172px;"/></a>
  <span class="c-tagline">51Degrees Device Detection C/C++
   &#160;<span id="projectnumber">4.4</span>
  </span>
  </h1>
  <div id="projectalign" style="padding-left: 0.5em;">
   <div id="projectbrief">A device detection library that is used natively or by 51Degrees products</div>
  </div>
  <div id="main-nav"></div>
  <section class="g-search">
    <div class="c-search is-openable" id="searchOpenable">
    <form class="c-search__form">
      <div class="b-form-group b-form-group--with-icon">
        <label for="inputSearch" class="b-text--hidden">Search</label>
        <img src="icon-search.svg" class="b-icon" alt="Search" />
        <input type="text" class="c-search__input" id="inputSearch" onkeyup="javascript:onSearch(this,event.keyCode)" placeholder="Search" aria-label="Search">
      </div>
    </form>
    <div class="c-search__content" id="searchContent">
    </div>
  </div> 
  </section>
</div>
<!-- end header part -->
<main class="g-main">
<!-- Generated by Doxygen 1.8.15 -->
<!-- top -->
	<div class="g-docs__sidenav">																														         <nav id="nav-tree-contents" class="c-sidenav">																														     <h4 class="c-sidenav__heading">Documentation</h4>																									         <div id="nav-sync" class="sync"></div>
  <ul class="c-sidenav__list">																														     </ul>																																				   </nav>    </div><script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(document).ready(function(){initNavTree('group___fifty_one_degrees_cache.html','');});
/* @license-end */
</script>
<div id="doc-content" class="g-docs__content">
<div class="g-docs__header">
<h2 class="g-docs__page-title">Cache<div class="c-breadcrumb"><ul class="c-breadcrumb"><li class="c-breadcrumb__item"><a class="el c-breadcrumb__link" href="group___fifty_one_degrees_common.html">Common</a></li></ul></div></h2></div><!--header-->
<div class="g-docs__inner">
<div class="g-docs__primary" id="primary">
<a name="details" id="details"></a><h2 class="g-docs__section-heading">Detailed Description</h2>
<p>Fixed size, thread safe, loading, tree based cache. </p>
<h2>Introduction</h2>
<p>Implements a fixed size, thread safe, loading, tree based cache. Items requested which are not in the cache already are loaded using the specified load method, before returning as with items which are already in the cache.</p>
<p>Items are fetched from the cache using the <a class="el" href="group___fifty_one_degrees_cache.html#ga6ef149c934b8ef5699983aad632264bc" title="Gets an item from the cache.">fiftyoneDegreesCacheGet</a> method and the item is prevented from being expelled from the cache until the <a class="el" href="group___fifty_one_degrees_cache.html#ga45b3320890f63d609f269fe47d9d1493" title="Releases the cache node previous obtained via fiftyoneDegreesCacheGet so that it can be evicted from ...">fiftyoneDegreesCacheRelease</a> method is called. Failure to release cache items once they are finished with will result in the available nodes in the cache being exhausted (i.e. no new items can be loaded into the cache).</p>
<p>As the cache is fixed size, the size must be set correctly in order to prevent failures in the get method. The size of a cache <b>MUST</b> be equal to or greater than the maximum number of items which will be in use simultaneously across all threads. Fetching more items than the cache was created to expect will result in the same failure as not releasing items.</p>
<p>The cache is sharded based on the modulo of the key to improve performance in multi threaded operation where an even distribution of key modulos are present.</p>
<p>Details of the red black tree implementation can be found in tree.c.</p>
<h2>Example Usage</h2>
<div class="c-code__block c-code__block--outline"><div class="c-code__line"><span class="c-code__keywordtype">byte</span> *data;</div><div class="c-code__line"><a class="code" href="group___fifty_one_degrees_cache.html#ga7ea1ee260c4f83a32551b639e5d60832">fiftyoneDegreesCacheLoadMethod</a> *methodToLoadEntryFromData;</div><div class="c-code__line"></div><div class="c-code__line"><span class="c-code__comment">// Create a cache</span></div><div class="c-code__line"><a class="code" href="structfiftyone_degrees_cache.html">fiftyoneDegreesCache</a> cache = <a class="code" href="group___fifty_one_degrees_cache.html#gad90e7af87ed4878433f5308b491184d9">fiftyoneDegreesCacheCreate</a>(</div><div class="c-code__line">     100,</div><div class="c-code__line">     1,</div><div class="c-code__line">     methodToLoadEntryFromData,</div><div class="c-code__line">     <a class="code" href="group___fifty_one_degrees_cache.html#gab34fac38ebb620e554f52d4f236cb962">fiftyoneDegreesCacheHash64</a>,</div><div class="c-code__line">     data);</div><div class="c-code__line"></div><div class="c-code__line"><span class="c-code__comment">// Get an item from the cache</span></div><div class="c-code__line"><a class="code" href="structfiftyone_degrees_cache_node.html">fiftyoneDegreesCacheNode</a> *entry = <a class="code" href="group___fifty_one_degrees_cache.html#ga6ef149c934b8ef5699983aad632264bc">fiftyoneDegreesCacheGet</a>(</div><div class="c-code__line">    cache,</div><div class="c-code__line">    &amp;0,</div><div class="c-code__line">    exception);</div><div class="c-code__line"></div><div class="c-code__line"><span class="c-code__comment">// Check that the value was found</span></div><div class="c-code__line"><span class="c-code__keywordflow">if</span> (entry != NULL) {</div><div class="c-code__line"></div><div class="c-code__line">    <span class="c-code__comment">// Get the value from the entry</span></div><div class="c-code__line">    <span class="c-code__keywordtype">int</span> *value = (<span class="c-code__keywordtype">int</span>*)entry-&gt;<a class="code" href="structfiftyone_degrees_cache_node.html#a057bf8d32e5167f0988ada6ad4831433">data</a>.<a class="code" href="structfiftyone_degrees_data.html#a838d52f2eb8fdc33d239ce30fe4f1fe5">ptr</a>;</div><div class="c-code__line"></div><div class="c-code__line">    <span class="c-code__comment">// Do something with the value</span></div><div class="c-code__line">    <span class="c-code__comment">// ...</span></div><div class="c-code__line"></div><div class="c-code__line">    <span class="c-code__comment">// Release the entry back to the cache</span></div><div class="c-code__line">    <a class="code" href="group___fifty_one_degrees_cache.html#ga45b3320890f63d609f269fe47d9d1493">fiftyoneDegreesCacheRelease</a>(entry);</div><div class="c-code__line">}</div><div class="c-code__line"></div><div class="c-code__line"><span class="c-code__comment">// Free the cache</span></div><div class="c-code__line"><a class="code" href="group___fifty_one_degrees_cache.html#gaf0ccfd80f2901d564c89bc6580f3bb36">fiftyoneDegreesCacheFree</a>(cache);</div></div> <h2 class="g-docs__section-heading">
Collaboration diagram for Cache:</h2>
<div class="dyncontent">
<center><table><tr><td><div class="center"><iframe scrolling="no" frameborder="0" src="group___fifty_one_degrees_cache.svg" width="203" height="36"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe>
</div>
</td></tr></table></center>
</div>
<!-- startMemberSections -->
<!-- startMemberHeader -->
<h2 class="g-docs__section-heading">
<a name="nested-classes"></a>
Structs</h2>
<!-- endMemberHeader -->
<!-- startMemberList -->
<!-- start member list -->
<div class="g-table g-table--overflow">
<table class="c-table c-table--members">
<tbody class="c-table__body">
<!-- member dec start -->
<!-- startMemberItem() -->
<tr class="c-table__row memitem:"><td class="c-table__cell">struct <!-- insertMemberAlign -->
&#160;</td><td class="c-table__cell"><a class="el" href="structfiftyone_degrees_cache_node.html">fiftyoneDegreesCacheNode</a>
<!-- startMemberDescription -->
<div class="c-table__desc memdesc:">Cache node structure used for storing data in the cache along with its key.  <a href="structfiftyone_degrees_cache_node.html#details">More...</a><!-- endMemberDescription -->
</div></td></tr>
<!-- member dec start -->
<!-- startMemberItem() -->
<tr class="c-table__row memitem:"><td class="c-table__cell">struct <!-- insertMemberAlign -->
&#160;</td><td class="c-table__cell"><a class="el" href="structfiftyone_degrees_cache_shard.html">fiftyoneDegreesCacheShard</a>
<!-- startMemberDescription -->
<div class="c-table__desc memdesc:">Cache shard structure used to enable concurrent access to the cache.  <a href="structfiftyone_degrees_cache_shard.html#details">More...</a><!-- endMemberDescription -->
</div></td></tr>
<!-- member dec start -->
<!-- startMemberItem() -->
<tr class="c-table__row memitem:"><td class="c-table__cell">struct <!-- insertMemberAlign -->
&#160;</td><td class="c-table__cell"><a class="el" href="structfiftyone_degrees_cache.html">fiftyoneDegreesCache</a>
<!-- startMemberDescription -->
<div class="c-table__desc memdesc:">Cache structure to store the root of the red black tree and a list of allocated cache nodes.  <a href="structfiftyone_degrees_cache.html#details">More...</a><!-- endMemberDescription -->
</div></td></tr>
<!-- endMemberList -->
<!-- end member list -->
</tbody></table></div>
<section class="g-docs__section">
</section>
<section class="g-docs__section">
<!-- startMemberHeader -->
<h2 class="g-docs__section-heading">
<a name="typedef-members"></a>
Typedefs</h2>
<!-- endMemberHeader -->
<!-- startMemberList -->
<!-- start member list -->
<div class="g-table g-table--overflow">
<table class="c-table c-table--members">
<tbody class="c-table__body">
<!-- member dec start -->
<!-- startMemberItem() -->
<tr class="c-table__row memitem:ga7ea1ee260c4f83a32551b639e5d60832"><td class="c-table__cell">typedef&#160;void(*<!-- insertMemberAlign -->
&#160;</td><td class="c-table__cell"><a class="el" href="group___fifty_one_degrees_cache.html#ga7ea1ee260c4f83a32551b639e5d60832">fiftyoneDegreesCacheLoadMethod</a>) (const void *state, <a class="el" href="structfiftyone_degrees_data.html">fiftyoneDegreesData</a> *data, const void *key, <a class="el" href="structfiftyone_degrees_exception.html">fiftyoneDegreesException</a> *exception)
<!-- startMemberDescription -->
<div class="c-table__desc memdesc:ga7ea1ee260c4f83a32551b639e5d60832">Method used to load data into the cache.  <a href="#ga7ea1ee260c4f83a32551b639e5d60832">More...</a><!-- endMemberDescription -->
</div></td></tr>
<!-- member dec start -->
<!-- startMemberItem() -->
<tr class="c-table__row memitem:gacd49b7dd490370a42074c3469465a704"><td class="c-table__cell">typedef&#160;int64_t(*<!-- insertMemberAlign -->
&#160;</td><td class="c-table__cell"><a class="el" href="group___fifty_one_degrees_cache.html#gacd49b7dd490370a42074c3469465a704">fiftyoneDegreesCacheHashCodeMethod</a>) (const void *key)
<!-- startMemberDescription -->
<div class="c-table__desc memdesc:gacd49b7dd490370a42074c3469465a704">Method used to calculate a hash code from the key.  <a href="#gacd49b7dd490370a42074c3469465a704">More...</a><!-- endMemberDescription -->
</div></td></tr>
<!-- endMemberList -->
<!-- end member list -->
</tbody></table></div>
</section>
<section class="g-docs__section">
</section>
<section class="g-docs__section">
</section>
<section class="g-docs__section">
<!-- startMemberHeader -->
<h2 class="g-docs__section-heading">
<a name="func-members"></a>
Functions</h2>
<!-- endMemberHeader -->
<!-- startMemberList -->
<!-- start member list -->
<div class="g-table g-table--overflow">
<table class="c-table c-table--members">
<tbody class="c-table__body">
<!-- member dec start -->
<!-- startMemberItem() -->
<tr class="c-table__row memitem:gad90e7af87ed4878433f5308b491184d9"><td class="c-table__cell"><a class="el" href="structfiftyone_degrees_cache.html">fiftyoneDegreesCache</a>&#160;*<!-- insertMemberAlign -->
&#160;</td><td class="c-table__cell"><a class="el" href="group___fifty_one_degrees_cache.html#gad90e7af87ed4878433f5308b491184d9">fiftyoneDegreesCacheCreate</a> (uint32_t capacity, uint16_t concurrency, <a class="el" href="group___fifty_one_degrees_cache.html#ga7ea1ee260c4f83a32551b639e5d60832">fiftyoneDegreesCacheLoadMethod</a> load, <a class="el" href="group___fifty_one_degrees_cache.html#gacd49b7dd490370a42074c3469465a704">fiftyoneDegreesCacheHashCodeMethod</a> hash, const void *state)
<!-- startMemberDescription -->
<div class="c-table__desc memdesc:gad90e7af87ed4878433f5308b491184d9">Creates a new cache.The cache must be destroyed with the <a class="el" href="group___fifty_one_degrees_cache.html#gaf0ccfd80f2901d564c89bc6580f3bb36" title="Frees the cache structure, all allocated nodes and their data.">fiftyoneDegreesCacheFree</a> method.  <a href="#gad90e7af87ed4878433f5308b491184d9">More...</a><!-- endMemberDescription -->
</div></td></tr>
<!-- member dec start -->
<!-- startMemberItem() -->
<tr class="c-table__row memitem:gaf0ccfd80f2901d564c89bc6580f3bb36"><td class="c-table__cell">void<!-- insertMemberAlign -->
&#160;</td><td class="c-table__cell"><a class="el" href="group___fifty_one_degrees_cache.html#gaf0ccfd80f2901d564c89bc6580f3bb36">fiftyoneDegreesCacheFree</a> (<a class="el" href="structfiftyone_degrees_cache.html">fiftyoneDegreesCache</a> *cache)
<!-- startMemberDescription -->
<div class="c-table__desc memdesc:gaf0ccfd80f2901d564c89bc6580f3bb36">Frees the cache structure, all allocated nodes and their data.  <a href="#gaf0ccfd80f2901d564c89bc6580f3bb36">More...</a><!-- endMemberDescription -->
</div></td></tr>
<!-- member dec start -->
<!-- startMemberItem() -->
<tr class="c-table__row memitem:ga6ef149c934b8ef5699983aad632264bc"><td class="c-table__cell"><a class="el" href="structfiftyone_degrees_cache_node.html">fiftyoneDegreesCacheNode</a>&#160;*<!-- insertMemberAlign -->
&#160;</td><td class="c-table__cell"><a class="el" href="group___fifty_one_degrees_cache.html#ga6ef149c934b8ef5699983aad632264bc">fiftyoneDegreesCacheGet</a> (<a class="el" href="structfiftyone_degrees_cache.html">fiftyoneDegreesCache</a> *cache, const void *key, <a class="el" href="structfiftyone_degrees_exception.html">fiftyoneDegreesException</a> *exception)
<!-- startMemberDescription -->
<div class="c-table__desc memdesc:ga6ef149c934b8ef5699983aad632264bc">Gets an item from the cache.  <a href="#ga6ef149c934b8ef5699983aad632264bc">More...</a><!-- endMemberDescription -->
</div></td></tr>
<!-- member dec start -->
<!-- startMemberItem() -->
<tr class="c-table__row memitem:ga45b3320890f63d609f269fe47d9d1493"><td class="c-table__cell">void<!-- insertMemberAlign -->
&#160;</td><td class="c-table__cell"><a class="el" href="group___fifty_one_degrees_cache.html#ga45b3320890f63d609f269fe47d9d1493">fiftyoneDegreesCacheRelease</a> (<a class="el" href="structfiftyone_degrees_cache_node.html">fiftyoneDegreesCacheNode</a> *node)
<!-- startMemberDescription -->
<div class="c-table__desc memdesc:ga45b3320890f63d609f269fe47d9d1493">Releases the cache node previous obtained via <a class="el" href="group___fifty_one_degrees_cache.html#ga6ef149c934b8ef5699983aad632264bc" title="Gets an item from the cache.">fiftyoneDegreesCacheGet</a> so that it can be evicted from the cache if needed.  <a href="#ga45b3320890f63d609f269fe47d9d1493">More...</a><!-- endMemberDescription -->
</div></td></tr>
<!-- member dec start -->
<!-- startMemberItem() -->
<tr class="c-table__row memitem:ga59e30fa6a66d585ea04ae0076bfc3a7e"><td class="c-table__cell">int64_t<!-- insertMemberAlign -->
&#160;</td><td class="c-table__cell"><a class="el" href="group___fifty_one_degrees_cache.html#ga59e30fa6a66d585ea04ae0076bfc3a7e">fiftyoneDegreesCacheHash32</a> (const void *key)
<!-- startMemberDescription -->
<div class="c-table__desc memdesc:ga59e30fa6a66d585ea04ae0076bfc3a7e">Passed a pointer to a 32 bit / 4 byte data structure and returns the data as a 64 bit / 8 byte value for use in the cache.  <a href="#ga59e30fa6a66d585ea04ae0076bfc3a7e">More...</a><!-- endMemberDescription -->
</div></td></tr>
<!-- member dec start -->
<!-- startMemberItem() -->
<tr class="c-table__row memitem:gab34fac38ebb620e554f52d4f236cb962"><td class="c-table__cell">int64_t<!-- insertMemberAlign -->
&#160;</td><td class="c-table__cell"><a class="el" href="group___fifty_one_degrees_cache.html#gab34fac38ebb620e554f52d4f236cb962">fiftyoneDegreesCacheHash64</a> (const void *key)
<!-- startMemberDescription -->
<div class="c-table__desc memdesc:gab34fac38ebb620e554f52d4f236cb962">Passed a pointer to a 64 bit / 8 byte data structure and returns the data as a 64 bit / 8 byte value for use in the cache.  <a href="#gab34fac38ebb620e554f52d4f236cb962">More...</a><!-- endMemberDescription -->
</div></td></tr>
<!-- endMemberList -->
<!-- end member list -->
</tbody></table></div>
</section>
<section class="g-docs__section">
</section>
<section class="g-docs__section">
</section>
<section class="g-docs__section">
</section>
<section class="g-docs__section">
</section>
<section class="g-docs__section">
</section>
<section class="g-docs__section">
</section>
<section class="g-docs__section">
</section>
<section class="g-docs__section">
</section>
<section class="g-docs__section">
<h2 class="g-docs__section-heading">Typedef Documentation</h2>
<!-- startMemberDocList -->
<article class="c-member">
<a id="gacd49b7dd490370a42074c3469465a704"></a><!-- startMemberDoc -->

<h2 class="c-member__title"><span class="c-member__anchor"><a href="#gacd49b7dd490370a42074c3469465a704">&#9670;&nbsp;</a></span>fiftyoneDegreesCacheHashCodeMethod</h2>

<div class="c-member__main">
<div class="c-member__head">
<!-- startMemberDocName -->
      <div class="c-member__split">
        <div class="g-table g-table--overflow">
          <table class="c-table c-table--article">
            <tr class="c-table__row">
              <td class="c-table__cell">typedef int64_t(* fiftyoneDegreesCacheHashCodeMethod) (const void *key)<!-- endMemberDocName -->
</td>
<!-- endMemberDoc -->
            </tr>
          </table>
        </div>
      </div>
</div><!-- startIndent -->
<div class="c-member__body">

<p>Method used to calculate a hash code from the key. </p>
<dl class="c-list-definition"><dt class="c-list-definition__title">Parameters</dt><dd class="c-list-definition__desc">
    <tr><dd class="c-list-definition__desc"><span class="b-text--red">key</span> - the data to be calculate the integer key. </dd>
  </dd>
</dl>
<dl class="c-list-definition return"><dt class="c-list-definition__title">Returns</dt><dd class="c-list-definition__desc">64 bit representation of the key data. </dd></dl>
<!-- endIndent -->

</div>
</div>
</article>
<article class="c-member">
<a id="ga7ea1ee260c4f83a32551b639e5d60832"></a><!-- startMemberDoc -->

<h2 class="c-member__title"><span class="c-member__anchor"><a href="#ga7ea1ee260c4f83a32551b639e5d60832">&#9670;&nbsp;</a></span>fiftyoneDegreesCacheLoadMethod</h2>

<div class="c-member__main">
<div class="c-member__head">
<!-- startMemberDocName -->
      <div class="c-member__split">
        <div class="g-table g-table--overflow">
          <table class="c-table c-table--article">
            <tr class="c-table__row">
              <td class="c-table__cell">typedef void(* fiftyoneDegreesCacheLoadMethod) (const void *state, <a class="el" href="structfiftyone_degrees_data.html">fiftyoneDegreesData</a> *data, const void *key, <a class="el" href="structfiftyone_degrees_exception.html">fiftyoneDegreesException</a> *exception)<!-- endMemberDocName -->
</td>
<!-- endMemberDoc -->
            </tr>
          </table>
        </div>
      </div>
</div><!-- startIndent -->
<div class="c-member__body">

<p>Method used to load data into the cache. </p>
<dl class="c-list-definition"><dt class="c-list-definition__title">Parameters</dt><dd class="c-list-definition__desc">
    <tr><dd class="c-list-definition__desc"><span class="b-text--red">state</span> - information used for the load operation. </dd>
    <tr><dd class="c-list-definition__desc"><span class="b-text--red">data</span> - structure to be used to store the data loaded. </dd>
    <tr><dd class="c-list-definition__desc"><span class="b-text--red">key</span> - for the item in the collection to be loaded. </dd>
    <tr><dd class="c-list-definition__desc"><span class="b-text--red">exception</span> - pointer to an exception data structure to be used if an exception occurs. See <a class="el" href="exceptions_8h_source.html">exceptions.h</a>. </dd>
  </dd>
</dl>
<!-- endIndent -->

</div>
</div>
</article>
<!-- endMemberDocList -->
<h2 class="g-docs__section-heading">Function Documentation</h2>
<!-- startMemberDocList -->
<article class="c-member">
<a id="gad90e7af87ed4878433f5308b491184d9"></a><!-- startMemberDoc -->

<h2 class="c-member__title"><span class="c-member__anchor"><a href="#gad90e7af87ed4878433f5308b491184d9">&#9670;&nbsp;</a></span>fiftyoneDegreesCacheCreate()</h2>

<div class="c-member__main">
<div class="c-member__head">
<!-- startMemberDocName -->
      <div class="c-member__split">
        <div class="g-table g-table--overflow">
          <table class="c-table c-table--article">
            <tr class="c-table__row">
              <td class="c-table__cell"><a class="el" href="structfiftyone_degrees_cache.html">fiftyoneDegreesCache</a>* fiftyoneDegreesCacheCreate <!-- endMemberDocName -->
</td>
<!-- startParameterList -->
          <td>(</td>
<!-- startFirstParameterType -->
          <td class="c-table__cell">uint32_t<!-- endParameterType -->
&#160;</td>
<!-- startParameterName -->
          <td class="c-table__cell"><em>capacity</em>, <!-- endParameterName -->
</td>
        </tr>
<!-- startParameterType -->
        <tr>
          <td class="c-table__cell"></td>
          <td></td>
          <td class="c-table__cell">uint16_t<!-- endParameterType -->
&#160;</td>
<!-- startParameterName -->
          <td class="c-table__cell"><em>concurrency</em>, <!-- endParameterName -->
</td>
        </tr>
<!-- startParameterType -->
        <tr>
          <td class="c-table__cell"></td>
          <td></td>
          <td class="c-table__cell"><a class="el" href="group___fifty_one_degrees_cache.html#ga7ea1ee260c4f83a32551b639e5d60832">fiftyoneDegreesCacheLoadMethod</a><!-- endParameterType -->
&#160;</td>
<!-- startParameterName -->
          <td class="c-table__cell"><em>load</em>, <!-- endParameterName -->
</td>
        </tr>
<!-- startParameterType -->
        <tr>
          <td class="c-table__cell"></td>
          <td></td>
          <td class="c-table__cell"><a class="el" href="group___fifty_one_degrees_cache.html#gacd49b7dd490370a42074c3469465a704">fiftyoneDegreesCacheHashCodeMethod</a><!-- endParameterType -->
&#160;</td>
<!-- startParameterName -->
          <td class="c-table__cell"><em>hash</em>, <!-- endParameterName -->
</td>
        </tr>
<!-- startParameterType -->
        <tr>
          <td class="c-table__cell"></td>
          <td></td>
          <td class="c-table__cell">const void *<!-- endParameterType -->
&#160;</td>
<!-- startParameterName -->
          <td class="c-table__cell"><em>state</em><!-- endParameterName -->
&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td><!-- endParameterList -->
</td>
        </tr>
<!-- endMemberDoc -->
          </table>
        </div>
      </div>
</div><!-- startIndent -->
<div class="c-member__body">

<p>Creates a new cache.The cache must be destroyed with the <a class="el" href="group___fifty_one_degrees_cache.html#gaf0ccfd80f2901d564c89bc6580f3bb36" title="Frees the cache structure, all allocated nodes and their data.">fiftyoneDegreesCacheFree</a> method. </p>
<dl class="c-list-definition"><dt class="c-list-definition__title">Parameters</dt><dd class="c-list-definition__desc">
    <tr><dd class="c-list-definition__desc"><span class="b-text--red">capacity</span> - maximum number of items that the cache should store </dd>
    <tr><dd class="c-list-definition__desc"><span class="b-text--red">concurrency</span> - the expected number of parallel operations </dd>
    <tr><dd class="c-list-definition__desc"><span class="b-text--red">load</span> - pointer to method used to load an entry into the cache </dd>
    <tr><dd class="c-list-definition__desc"><span class="b-text--red">hash</span> - pointer to a method used to hash the key into a int64_t </dd>
    <tr><dd class="c-list-definition__desc"><span class="b-text--red">state</span> - pointer to state information to pass to the load method </dd>
  </dd>
</dl>
<dl class="c-list-definition return"><dt class="c-list-definition__title">Returns</dt><dd class="c-list-definition__desc">a pointer to the cache created, or NULL if one was not created. </dd></dl>
<!-- endIndent -->

</div>
</div>
</article>
<article class="c-member">
<a id="gaf0ccfd80f2901d564c89bc6580f3bb36"></a><!-- startMemberDoc -->

<h2 class="c-member__title"><span class="c-member__anchor"><a href="#gaf0ccfd80f2901d564c89bc6580f3bb36">&#9670;&nbsp;</a></span>fiftyoneDegreesCacheFree()</h2>

<div class="c-member__main">
<div class="c-member__head">
<!-- startMemberDocName -->
      <div class="c-member__split">
        <div class="g-table g-table--overflow">
          <table class="c-table c-table--article">
            <tr class="c-table__row">
              <td class="c-table__cell">void fiftyoneDegreesCacheFree <!-- endMemberDocName -->
</td>
<!-- startParameterList -->
          <td>(</td>
<!-- startFirstParameterType -->
          <td class="c-table__cell"><a class="el" href="structfiftyone_degrees_cache.html">fiftyoneDegreesCache</a> *<!-- endParameterType -->
&#160;</td>
<!-- startParameterName -->
          <td class="c-table__cell"><em>cache</em><!-- endParameterName -->
</td><td>)</td>
          <td><!-- endParameterList -->
</td>
        </tr>
<!-- endMemberDoc -->
          </table>
        </div>
      </div>
</div><!-- startIndent -->
<div class="c-member__body">

<p>Frees the cache structure, all allocated nodes and their data. </p>
<dl class="c-list-definition"><dt class="c-list-definition__title">Parameters</dt><dd class="c-list-definition__desc">
    <tr><dd class="c-list-definition__desc"><span class="b-text--red">cache</span> - to be freed </dd>
  </dd>
</dl>
<!-- endIndent -->

</div>
</div>
</article>
<article class="c-member">
<a id="ga6ef149c934b8ef5699983aad632264bc"></a><!-- startMemberDoc -->

<h2 class="c-member__title"><span class="c-member__anchor"><a href="#ga6ef149c934b8ef5699983aad632264bc">&#9670;&nbsp;</a></span>fiftyoneDegreesCacheGet()</h2>

<div class="c-member__main">
<div class="c-member__head">
<!-- startMemberDocName -->
      <div class="c-member__split">
        <div class="g-table g-table--overflow">
          <table class="c-table c-table--article">
            <tr class="c-table__row">
              <td class="c-table__cell"><a class="el" href="structfiftyone_degrees_cache_node.html">fiftyoneDegreesCacheNode</a>* fiftyoneDegreesCacheGet <!-- endMemberDocName -->
</td>
<!-- startParameterList -->
          <td>(</td>
<!-- startFirstParameterType -->
          <td class="c-table__cell"><a class="el" href="structfiftyone_degrees_cache.html">fiftyoneDegreesCache</a> *<!-- endParameterType -->
&#160;</td>
<!-- startParameterName -->
          <td class="c-table__cell"><em>cache</em>, <!-- endParameterName -->
</td>
        </tr>
<!-- startParameterType -->
        <tr>
          <td class="c-table__cell"></td>
          <td></td>
          <td class="c-table__cell">const void *<!-- endParameterType -->
&#160;</td>
<!-- startParameterName -->
          <td class="c-table__cell"><em>key</em>, <!-- endParameterName -->
</td>
        </tr>
<!-- startParameterType -->
        <tr>
          <td class="c-table__cell"></td>
          <td></td>
          <td class="c-table__cell"><a class="el" href="structfiftyone_degrees_exception.html">fiftyoneDegreesException</a> *<!-- endParameterType -->
&#160;</td>
<!-- startParameterName -->
          <td class="c-table__cell"><em>exception</em><!-- endParameterName -->
&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td><!-- endParameterList -->
</td>
        </tr>
<!-- endMemberDoc -->
          </table>
        </div>
      </div>
</div><!-- startIndent -->
<div class="c-member__body">

<p>Gets an item from the cache. </p>
<p>If an item is not in the cache, it is loaded using the loader the cache was initialized with.</p>
<p>The cache being used as a loading cache must have a load method defined which returns a pointer to the data relating to the key used. This method may, or may not, allocate memory or free memory previously allocated to data in the cache node.</p>
<p>Nodes fetched from the cache are protected from modification until all references to them are released. This means that the size of the cache must be carefully chosen to be no smaller than the maximum number of nodes which may be in use at any one time. Attempting to fetch a node when there are no free nodes to load the data into will result in a null being returned.</p>
<dl class="c-list-definition"><dt class="c-list-definition__title">Parameters</dt><dd class="c-list-definition__desc">
    <tr><dd class="c-list-definition__desc"><span class="b-text--red">cache</span> - to get the entry from </dd>
    <tr><dd class="c-list-definition__desc"><span class="b-text--red">key</span> - for the item to be returned </dd>
    <tr><dd class="c-list-definition__desc"><span class="b-text--red">exception</span> - pointer to an exception data structure to be used if an exception occurs. See <a class="el" href="exceptions_8h_source.html">exceptions.h</a>. </dd>
  </dd>
</dl>
<dl class="c-list-definition return"><dt class="c-list-definition__title">Returns</dt><dd class="c-list-definition__desc">pointer to the requested item or null if too many items have been fetched and not released or the key is not valid </dd></dl>
<!-- endIndent -->

</div>
</div>
</article>
<article class="c-member">
<a id="ga59e30fa6a66d585ea04ae0076bfc3a7e"></a><!-- startMemberDoc -->

<h2 class="c-member__title"><span class="c-member__anchor"><a href="#ga59e30fa6a66d585ea04ae0076bfc3a7e">&#9670;&nbsp;</a></span>fiftyoneDegreesCacheHash32()</h2>

<div class="c-member__main">
<div class="c-member__head">
<!-- startMemberDocName -->
      <div class="c-member__split">
        <div class="g-table g-table--overflow">
          <table class="c-table c-table--article">
            <tr class="c-table__row">
              <td class="c-table__cell">int64_t fiftyoneDegreesCacheHash32 <!-- endMemberDocName -->
</td>
<!-- startParameterList -->
          <td>(</td>
<!-- startFirstParameterType -->
          <td class="c-table__cell">const void *<!-- endParameterType -->
&#160;</td>
<!-- startParameterName -->
          <td class="c-table__cell"><em>key</em><!-- endParameterName -->
</td><td>)</td>
          <td><!-- endParameterList -->
</td>
        </tr>
<!-- endMemberDoc -->
          </table>
        </div>
      </div>
</div><!-- startIndent -->
<div class="c-member__body">

<p>Passed a pointer to a 32 bit / 4 byte data structure and returns the data as a 64 bit / 8 byte value for use in the cache. </p>
<p>Used when cache keys are 32 bit integers. </p><dl class="c-list-definition"><dt class="c-list-definition__title">Parameters</dt><dd class="c-list-definition__desc">
    <tr><dd class="c-list-definition__desc"><span class="b-text--red">key</span> - to be used in the cache </dd>
  </dd>
</dl>
<dl class="c-list-definition return"><dt class="c-list-definition__title">Returns</dt><dd class="c-list-definition__desc">key represented as a 64 bit integer </dd></dl>
<!-- endIndent -->

</div>
</div>
</article>
<article class="c-member">
<a id="gab34fac38ebb620e554f52d4f236cb962"></a><!-- startMemberDoc -->

<h2 class="c-member__title"><span class="c-member__anchor"><a href="#gab34fac38ebb620e554f52d4f236cb962">&#9670;&nbsp;</a></span>fiftyoneDegreesCacheHash64()</h2>

<div class="c-member__main">
<div class="c-member__head">
<!-- startMemberDocName -->
      <div class="c-member__split">
        <div class="g-table g-table--overflow">
          <table class="c-table c-table--article">
            <tr class="c-table__row">
              <td class="c-table__cell">int64_t fiftyoneDegreesCacheHash64 <!-- endMemberDocName -->
</td>
<!-- startParameterList -->
          <td>(</td>
<!-- startFirstParameterType -->
          <td class="c-table__cell">const void *<!-- endParameterType -->
&#160;</td>
<!-- startParameterName -->
          <td class="c-table__cell"><em>key</em><!-- endParameterName -->
</td><td>)</td>
          <td><!-- endParameterList -->
</td>
        </tr>
<!-- endMemberDoc -->
          </table>
        </div>
      </div>
</div><!-- startIndent -->
<div class="c-member__body">

<p>Passed a pointer to a 64 bit / 8 byte data structure and returns the data as a 64 bit / 8 byte value for use in the cache. </p>
<p>Used when cache keys are 64 bit integers. </p><dl class="c-list-definition"><dt class="c-list-definition__title">Parameters</dt><dd class="c-list-definition__desc">
    <tr><dd class="c-list-definition__desc"><span class="b-text--red">key</span> - to be used in the cache </dd>
  </dd>
</dl>
<dl class="c-list-definition return"><dt class="c-list-definition__title">Returns</dt><dd class="c-list-definition__desc">key represented as a 64 bit integer </dd></dl>
<!-- endIndent -->

</div>
</div>
</article>
<article class="c-member">
<a id="ga45b3320890f63d609f269fe47d9d1493"></a><!-- startMemberDoc -->

<h2 class="c-member__title"><span class="c-member__anchor"><a href="#ga45b3320890f63d609f269fe47d9d1493">&#9670;&nbsp;</a></span>fiftyoneDegreesCacheRelease()</h2>

<div class="c-member__main">
<div class="c-member__head">
<!-- startMemberDocName -->
      <div class="c-member__split">
        <div class="g-table g-table--overflow">
          <table class="c-table c-table--article">
            <tr class="c-table__row">
              <td class="c-table__cell">void fiftyoneDegreesCacheRelease <!-- endMemberDocName -->
</td>
<!-- startParameterList -->
          <td>(</td>
<!-- startFirstParameterType -->
          <td class="c-table__cell"><a class="el" href="structfiftyone_degrees_cache_node.html">fiftyoneDegreesCacheNode</a> *<!-- endParameterType -->
&#160;</td>
<!-- startParameterName -->
          <td class="c-table__cell"><em>node</em><!-- endParameterName -->
</td><td>)</td>
          <td><!-- endParameterList -->
</td>
        </tr>
<!-- endMemberDoc -->
          </table>
        </div>
      </div>
</div><!-- startIndent -->
<div class="c-member__body">

<p>Releases the cache node previous obtained via <a class="el" href="group___fifty_one_degrees_cache.html#ga6ef149c934b8ef5699983aad632264bc" title="Gets an item from the cache.">fiftyoneDegreesCacheGet</a> so that it can be evicted from the cache if needed. </p>
<dl class="c-list-definition"><dt class="c-list-definition__title">Parameters</dt><dd class="c-list-definition__desc">
    <tr><dd class="c-list-definition__desc"><span class="b-text--red">node</span> - to be released. </dd>
  </dd>
</dl>
<!-- endIndent -->

</div>
</div>
</article>
<!-- endMemberDocList -->
</section>
<!--endtest-->
</div><!-- primary -->
  <div class="g-docs__sidebar">
    <div class="c-section-nav">
      <h5 class="c-section-nav__heading">On This Page</h5>
        <ul class="c-section-nav__list">
<li class="c-section-nav__item"><a class="c-section-nav__link" href="#nested-classes">Structs</a></li>
<li class="c-section-nav__item"><a class="c-section-nav__link" href="#typedef-members">Typedefs</a></li>
<li class="c-section-nav__item"><a class="c-section-nav__link" href="#func-members">Functions</a></li>      </ul>
    </div>
  </div>
</div><!-- inner-->
<!-- HTML footer for doxygen 1.8.15-->
<!-- start footer part -->
<section id="nav-path" class="g-footer g-footer--docs"><!-- id is needed for treeview function! -->
    <p class="g-footer__copyright">Generated by
    <a href="http://www.doxygen.org/index.html">
    <b>doxygen</b></a> 1.8.15
  </p>
</section>
</div>
</main>
</div>
</body>
</html>
