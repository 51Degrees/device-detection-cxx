<!-- HTML header for doxygen 1.8.15-->
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.15"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>51Degrees Device Detection C/C++: Indices</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<script type="text/javascript" src="examplegrabber.js"></script>
<script type="text/javascript" src="testedversionsgrabber.js"></script>
<script type="text/javascript" src="search51.js"></script>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
  $(document).ready(initResizable);
/* @license-end */</script>
<link href="docs-main.min.css" rel="stylesheet" type="text/css" />
</head>
<body class="l-docs-index p-doxygen">
<div class="l-index__content">
<!--div id="top"--><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea" class="g-header g-header--docs">
  <h1 class="c-brand">
  <a id="projectlogo" href="../../documentation/4.5/index.html" class="c-brand__link"><img class="c-brand__image" alt="Logo" src="logo-51Degrees-Docs.png" style="width:172px;"/></a>
  <span class="c-tagline">51Degrees Device Detection C/C++
   &#160;<span id="projectnumber">4.5</span>
  </span>
  </h1>
  <div id="projectalign" style="padding-left: 0.5em;">
   <div id="projectbrief">A device detection library that is used natively or by 51Degrees products</div>
  </div>
  <div id="main-nav"></div>
  <section class="g-search">
    <div class="c-search is-openable" id="searchOpenable">
    <form class="c-search__form">
      <div class="b-form-group b-form-group--with-icon">
        <label for="inputSearch" class="b-text--hidden">Search</label>
        <img src="icon-search.svg" class="b-icon" alt="Search" />
        <input type="text" class="c-search__input" id="inputSearch" onkeyup="javascript:onSearch(this,event.keyCode)" placeholder="Search" aria-label="Search">
      </div>
    </form>
    <div class="c-search__content" id="searchContent">
    </div>
  </div> 
  </section>
</div>
<!-- end header part -->
<main class="g-main">
<!-- Generated by Doxygen 1.8.15 -->
<!-- top -->
	<div class="g-docs__sidenav">																														         <nav id="nav-tree-contents" class="c-sidenav">																														     <h4 class="c-sidenav__heading">Documentation</h4>																									         <div id="nav-sync" class="sync"></div>
  <ul class="c-sidenav__list">																														     </ul>																																				   </nav>    </div><script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(document).ready(function(){initNavTree('group___fifty_one_degrees_indices.html','');});
/* @license-end */
</script>
<div id="doc-content" class="g-docs__content">
<div class="g-docs__header">
<h2 class="g-docs__page-title">Indices<div class="c-breadcrumb"><ul class="c-breadcrumb"><li class="c-breadcrumb__item"><a class="el c-breadcrumb__link" href="group___fifty_one_degrees_common.html">Common</a></li></ul></div></h2></div><!--header-->
<div class="g-docs__inner">
<div class="g-docs__primary" id="primary">
<a name="details" id="details"></a><h2 class="g-docs__section-heading">Detailed Description</h2>
<p>A look up structure for profile and property index to the first value associated with the property and profile. </p>
<h2>Introduction</h2>
<p>Data sets relate profiles to the values associated with them. Values are associated with properties. The values associated with a profile are ordered in ascending order of property. Therefore when a request is made to obtain the value for a property and profile the values needed to be searched using a binary search to find a value related to the property. Then the list of prior values is checked until the first value for the property is found.</p>
<p>The indices methods provide common functionality to create a structure that directly relates profile ids and required property indexes to the first value index thus increasing the efficiency of retrieving values.</p>
<p>It is expected these methods will be used during data set initialization.</p>
<h2>Structure</h2>
<p>A sparse array of profile ids and required property indexes is used. Whilst this consumes more linear memory than a binary tree or other structure it is extremely fast to retrieve values from. As the difference between the lowest and highest profile id is relatively small the memory associated with absent profile ids is considered justifiable considering the performance benefit. A further optimization is to use the required property index rather than the index of all possible properties contained in the data set. In most use cases the caller only requires a sub set of properties to be available for retrieval.</p>
<h2>Create</h2>
<p>fiftyoneDegreesIndicesPropertyProfileCreate should be called once the data set is initialized with the required data structures. Memory is allocated by the method and a pointer to the index data structure is returned. The caller is not expected to use the returned data structure directly.</p>
<p>Some working memory is allocated during the indexing process. Therefore this method must be called before a freeze on allocating new memory is required.</p>
<h2>Free</h2>
<p>fiftyoneDegreesIndicesPropertyProfileFree is used to free the memory used by the index returned from Create. Must be called during the freeing of the related data set.</p>
<h2>Lookup</h2>
<p>fiftyoneDegreesIndicesPropertyProfileLookup is used to return the index in the values associated with the profile for the profile id and the required property index. </p>
<h2 class="g-docs__section-heading">
Collaboration diagram for Indices:</h2>
<div class="dyncontent">
<center><table><tr><td><div class="center"><iframe scrolling="no" frameborder="0" src="group___fifty_one_degrees_indices.svg" width="208" height="36"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe>
</div>
</td></tr></table></center>
</div>
<!-- startMemberSections -->
<!-- startMemberHeader -->
<h2 class="g-docs__section-heading">
<a name="nested-classes"></a>
Structs</h2>
<!-- endMemberHeader -->
<!-- startMemberList -->
<!-- start member list -->
<div class="g-table g-table--overflow">
<table class="c-table c-table--members">
<tbody class="c-table__body">
<!-- member dec start -->
<!-- startMemberItem() -->
<tr class="c-table__row memitem:"><td class="c-table__cell">struct <!-- insertMemberAlign -->
&#160;</td><td class="c-table__cell"><a class="el" href="structfiftyone_degrees_indices_property_profile.html">fiftyoneDegreesIndicesPropertyProfile</a>
<!-- startMemberDescription -->
<div class="c-table__desc memdesc:">Maps the profile index and the property index to the first value index of the profile for the property.  <a href="structfiftyone_degrees_indices_property_profile.html#details">More...</a><!-- endMemberDescription -->
</div></td></tr>
<!-- endMemberList -->
<!-- end member list -->
</tbody></table></div>
<section class="g-docs__section">
</section>
<section class="g-docs__section">
</section>
<section class="g-docs__section">
</section>
<section class="g-docs__section">
</section>
<section class="g-docs__section">
<!-- startMemberHeader -->
<h2 class="g-docs__section-heading">
<a name="func-members"></a>
Functions</h2>
<!-- endMemberHeader -->
<!-- startMemberList -->
<!-- start member list -->
<div class="g-table g-table--overflow">
<table class="c-table c-table--members">
<tbody class="c-table__body">
<!-- member dec start -->
<!-- startMemberItem() -->
<tr class="c-table__row memitem:gae98952464c0d6b6d64dd46dce83abdce"><td class="c-table__cell"><a class="el" href="structfiftyone_degrees_indices_property_profile.html">fiftyoneDegreesIndicesPropertyProfile</a>&#160;*<!-- insertMemberAlign -->
&#160;</td><td class="c-table__cell"><a class="el" href="group___fifty_one_degrees_indices.html#gae98952464c0d6b6d64dd46dce83abdce">fiftyoneDegreesIndicesPropertyProfileCreate</a> (<a class="el" href="structfiftyone_degrees_collection.html">fiftyoneDegreesCollection</a> *profiles, <a class="el" href="structfiftyone_degrees_collection.html">fiftyoneDegreesCollection</a> *profileOffsets, <a class="el" href="group___fifty_one_degrees_properties.html#ga927d138aa1c8aa695f8014619ed8e4d3">fiftyoneDegreesPropertiesAvailable</a> *available, <a class="el" href="structfiftyone_degrees_collection.html">fiftyoneDegreesCollection</a> *values, <a class="el" href="structfiftyone_degrees_exception.html">fiftyoneDegreesException</a> *exception)
<!-- startMemberDescription -->
<div class="c-table__desc memdesc:gae98952464c0d6b6d64dd46dce83abdce">Create an index for the profiles, available properties, and values provided such that given the index to a property and profile the index of the first value can be returned by calling fiftyoneDegreesIndicesPropertyProfileLookup.  <a href="#gae98952464c0d6b6d64dd46dce83abdce">More...</a><!-- endMemberDescription -->
</div></td></tr>
<!-- member dec start -->
<!-- startMemberItem() -->
<tr class="c-table__row memitem:gaebc74d34c21d2e7f14cf688ca292328e"><td class="c-table__cell">void<!-- insertMemberAlign -->
&#160;</td><td class="c-table__cell"><a class="el" href="group___fifty_one_degrees_indices.html#gaebc74d34c21d2e7f14cf688ca292328e">fiftyoneDegreesIndicesPropertyProfileFree</a> (<a class="el" href="structfiftyone_degrees_indices_property_profile.html">fiftyoneDegreesIndicesPropertyProfile</a> *index)
<!-- startMemberDescription -->
<div class="c-table__desc memdesc:gaebc74d34c21d2e7f14cf688ca292328e">Frees an index previously created by fiftyoneDegreesIndicesPropertyProfileCreate.  <a href="#gaebc74d34c21d2e7f14cf688ca292328e">More...</a><!-- endMemberDescription -->
</div></td></tr>
<!-- member dec start -->
<!-- startMemberItem() -->
<tr class="c-table__row memitem:ga12429c5cf301b643f759e4c828ee6423"><td class="c-table__cell">uint32_t<!-- insertMemberAlign -->
&#160;</td><td class="c-table__cell"><a class="el" href="group___fifty_one_degrees_indices.html#ga12429c5cf301b643f759e4c828ee6423">fiftyoneDegreesIndicesPropertyProfileLookup</a> (<a class="el" href="structfiftyone_degrees_indices_property_profile.html">fiftyoneDegreesIndicesPropertyProfile</a> *index, uint32_t profileId, uint32_t availablePropertyIndex)
<!-- startMemberDescription -->
<div class="c-table__desc memdesc:ga12429c5cf301b643f759e4c828ee6423">For a given profile id and available property index returns the first value index, or null if a first index can not be determined from the index.  <a href="#ga12429c5cf301b643f759e4c828ee6423">More...</a><!-- endMemberDescription -->
</div></td></tr>
<!-- endMemberList -->
<!-- end member list -->
</tbody></table></div>
</section>
<section class="g-docs__section">
</section>
<section class="g-docs__section">
</section>
<section class="g-docs__section">
</section>
<section class="g-docs__section">
</section>
<section class="g-docs__section">
</section>
<section class="g-docs__section">
</section>
<section class="g-docs__section">
</section>
<section class="g-docs__section">
</section>
<section class="g-docs__section">
<h2 class="g-docs__section-heading">Function Documentation</h2>
<!-- startMemberDocList -->
<article class="c-member">
<a id="gae98952464c0d6b6d64dd46dce83abdce"></a><!-- startMemberDoc -->

<h2 class="c-member__title"><span class="c-member__anchor"><a href="#gae98952464c0d6b6d64dd46dce83abdce">&#9670;&nbsp;</a></span>fiftyoneDegreesIndicesPropertyProfileCreate()</h2>

<div class="c-member__main">
<div class="c-member__head">
<!-- startMemberDocName -->
      <div class="c-member__split">
        <div class="g-table g-table--overflow">
          <table class="c-table c-table--article">
            <tr class="c-table__row">
              <td class="c-table__cell"><a class="el" href="structfiftyone_degrees_indices_property_profile.html">fiftyoneDegreesIndicesPropertyProfile</a>* fiftyoneDegreesIndicesPropertyProfileCreate <!-- endMemberDocName -->
</td>
<!-- startParameterList -->
          <td>(</td>
<!-- startFirstParameterType -->
          <td class="c-table__cell"><a class="el" href="structfiftyone_degrees_collection.html">fiftyoneDegreesCollection</a> *<!-- endParameterType -->
&#160;</td>
<!-- startParameterName -->
          <td class="c-table__cell"><em>profiles</em>, <!-- endParameterName -->
</td>
        </tr>
<!-- startParameterType -->
        <tr>
          <td class="c-table__cell"></td>
          <td></td>
          <td class="c-table__cell"><a class="el" href="structfiftyone_degrees_collection.html">fiftyoneDegreesCollection</a> *<!-- endParameterType -->
&#160;</td>
<!-- startParameterName -->
          <td class="c-table__cell"><em>profileOffsets</em>, <!-- endParameterName -->
</td>
        </tr>
<!-- startParameterType -->
        <tr>
          <td class="c-table__cell"></td>
          <td></td>
          <td class="c-table__cell"><a class="el" href="group___fifty_one_degrees_properties.html#ga927d138aa1c8aa695f8014619ed8e4d3">fiftyoneDegreesPropertiesAvailable</a> *<!-- endParameterType -->
&#160;</td>
<!-- startParameterName -->
          <td class="c-table__cell"><em>available</em>, <!-- endParameterName -->
</td>
        </tr>
<!-- startParameterType -->
        <tr>
          <td class="c-table__cell"></td>
          <td></td>
          <td class="c-table__cell"><a class="el" href="structfiftyone_degrees_collection.html">fiftyoneDegreesCollection</a> *<!-- endParameterType -->
&#160;</td>
<!-- startParameterName -->
          <td class="c-table__cell"><em>values</em>, <!-- endParameterName -->
</td>
        </tr>
<!-- startParameterType -->
        <tr>
          <td class="c-table__cell"></td>
          <td></td>
          <td class="c-table__cell"><a class="el" href="structfiftyone_degrees_exception.html">fiftyoneDegreesException</a> *<!-- endParameterType -->
&#160;</td>
<!-- startParameterName -->
          <td class="c-table__cell"><em>exception</em><!-- endParameterName -->
&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td><!-- endParameterList -->
</td>
        </tr>
<!-- endMemberDoc -->
          </table>
        </div>
      </div>
</div><!-- startIndent -->
<div class="c-member__body">

<p>Create an index for the profiles, available properties, and values provided such that given the index to a property and profile the index of the first value can be returned by calling fiftyoneDegreesIndicesPropertyProfileLookup. </p>
<dl class="c-list-definition"><dt class="c-list-definition__title">Parameters</dt><dd class="c-list-definition__desc">
    <tr><dd class="c-list-definition__desc"><span class="b-text--red">profiles</span> - collection of variable sized profiles to be indexed </dd>
    <tr><dd class="c-list-definition__desc"><span class="b-text--red">profileOffsets</span> - collection of fixed offsets to profiles to be indexed </dd>
    <tr><dd class="c-list-definition__desc"><span class="b-text--red">available</span> - properties provided by the caller </dd>
    <tr><dd class="c-list-definition__desc"><span class="b-text--red">values</span> - collection to be indexed </dd>
    <tr><dd class="c-list-definition__desc"><span class="b-text--red">exception</span> - pointer to an exception data structure to be used if an exception occurs. See <a class="el" href="exceptions_8h_source.html">exceptions.h</a> </dd>
  </dd>
</dl>
<dl class="c-list-definition return"><dt class="c-list-definition__title">Returns</dt><dd class="c-list-definition__desc">pointer to the index memory structure </dd></dl>
<!-- endIndent -->

</div>
</div>
</article>
<article class="c-member">
<a id="gaebc74d34c21d2e7f14cf688ca292328e"></a><!-- startMemberDoc -->

<h2 class="c-member__title"><span class="c-member__anchor"><a href="#gaebc74d34c21d2e7f14cf688ca292328e">&#9670;&nbsp;</a></span>fiftyoneDegreesIndicesPropertyProfileFree()</h2>

<div class="c-member__main">
<div class="c-member__head">
<!-- startMemberDocName -->
      <div class="c-member__split">
        <div class="g-table g-table--overflow">
          <table class="c-table c-table--article">
            <tr class="c-table__row">
              <td class="c-table__cell">void fiftyoneDegreesIndicesPropertyProfileFree <!-- endMemberDocName -->
</td>
<!-- startParameterList -->
          <td>(</td>
<!-- startFirstParameterType -->
          <td class="c-table__cell"><a class="el" href="structfiftyone_degrees_indices_property_profile.html">fiftyoneDegreesIndicesPropertyProfile</a> *<!-- endParameterType -->
&#160;</td>
<!-- startParameterName -->
          <td class="c-table__cell"><em>index</em><!-- endParameterName -->
</td><td>)</td>
          <td><!-- endParameterList -->
</td>
        </tr>
<!-- endMemberDoc -->
          </table>
        </div>
      </div>
</div><!-- startIndent -->
<div class="c-member__body">

<p>Frees an index previously created by fiftyoneDegreesIndicesPropertyProfileCreate. </p>
<dl class="c-list-definition"><dt class="c-list-definition__title">Parameters</dt><dd class="c-list-definition__desc">
    <tr><dd class="c-list-definition__desc"><span class="b-text--red">index</span> - to be freed </dd>
  </dd>
</dl>
<!-- endIndent -->

</div>
</div>
</article>
<article class="c-member">
<a id="ga12429c5cf301b643f759e4c828ee6423"></a><!-- startMemberDoc -->

<h2 class="c-member__title"><span class="c-member__anchor"><a href="#ga12429c5cf301b643f759e4c828ee6423">&#9670;&nbsp;</a></span>fiftyoneDegreesIndicesPropertyProfileLookup()</h2>

<div class="c-member__main">
<div class="c-member__head">
<!-- startMemberDocName -->
      <div class="c-member__split">
        <div class="g-table g-table--overflow">
          <table class="c-table c-table--article">
            <tr class="c-table__row">
              <td class="c-table__cell">uint32_t fiftyoneDegreesIndicesPropertyProfileLookup <!-- endMemberDocName -->
</td>
<!-- startParameterList -->
          <td>(</td>
<!-- startFirstParameterType -->
          <td class="c-table__cell"><a class="el" href="structfiftyone_degrees_indices_property_profile.html">fiftyoneDegreesIndicesPropertyProfile</a> *<!-- endParameterType -->
&#160;</td>
<!-- startParameterName -->
          <td class="c-table__cell"><em>index</em>, <!-- endParameterName -->
</td>
        </tr>
<!-- startParameterType -->
        <tr>
          <td class="c-table__cell"></td>
          <td></td>
          <td class="c-table__cell">uint32_t<!-- endParameterType -->
&#160;</td>
<!-- startParameterName -->
          <td class="c-table__cell"><em>profileId</em>, <!-- endParameterName -->
</td>
        </tr>
<!-- startParameterType -->
        <tr>
          <td class="c-table__cell"></td>
          <td></td>
          <td class="c-table__cell">uint32_t<!-- endParameterType -->
&#160;</td>
<!-- startParameterName -->
          <td class="c-table__cell"><em>availablePropertyIndex</em><!-- endParameterName -->
&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td><!-- endParameterList -->
</td>
        </tr>
<!-- endMemberDoc -->
          </table>
        </div>
      </div>
</div><!-- startIndent -->
<div class="c-member__body">

<p>For a given profile id and available property index returns the first value index, or null if a first index can not be determined from the index. </p>
<p>The indexes relate to the collections for profiles, properties, and values provided to the fiftyoneDegreesIndicesPropertyProfileCreate method when the index was created. The availablePropertyIndex is not the index of all possible properties, but the index of the ones the data set was created expecting to return. </p><dl class="c-list-definition"><dt class="c-list-definition__title">Parameters</dt><dd class="c-list-definition__desc">
    <tr><dd class="c-list-definition__desc"><span class="b-text--red">index</span> - from fiftyoneDegreesIndicesPropertyProfileCreate to use </dd>
    <tr><dd class="c-list-definition__desc"><span class="b-text--red">profileId</span> - the values need to relate to </dd>
    <tr><dd class="c-list-definition__desc"><span class="b-text--red">availablePropertyIndex</span> - in the list of required properties </dd>
  </dd>
</dl>
<dl class="c-list-definition return"><dt class="c-list-definition__title">Returns</dt><dd class="c-list-definition__desc">the index in the list of values for the profile for the first value associated with the property </dd></dl>
<!-- endIndent -->

</div>
</div>
</article>
<!-- endMemberDocList -->
</section>
<!--endtest-->
</div><!-- primary -->
  <div class="g-docs__sidebar">
    <div class="c-section-nav">
      <h5 class="c-section-nav__heading">On This Page</h5>
        <ul class="c-section-nav__list">
<li class="c-section-nav__item"><a class="c-section-nav__link" href="#nested-classes">Structs</a></li>
<li class="c-section-nav__item"><a class="c-section-nav__link" href="#func-members">Functions</a></li>      </ul>
    </div>
  </div>
</div><!-- inner-->
<!-- HTML footer for doxygen 1.8.15-->
<!-- start footer part -->
<section id="nav-path" class="g-footer g-footer--docs"><!-- id is needed for treeview function! -->
    <p class="g-footer__copyright">Generated by
    <a href="http://www.doxygen.org/index.html">
    <b>doxygen</b></a> 1.8.15
  </p>
</section>
</div>
</main>
</div>
</body>
</html>
